(this["webpackJsonpreact-object-detection"]=this["webpackJsonpreact-object-detection"]||[]).push([[0],{264:function(e,t,n){},270:function(e,t){},271:function(e,t){},279:function(e,t){},289:function(e,t){},290:function(e,t){},291:function(e,t){},292:function(e,t){},300:function(e,t){},312:function(e,t,n){"use strict";n.r(t);var c=n(73),a=n.n(c),r=n(236),i=n.n(r),o=(n(264),n(4)),s=n.n(o),l=n(11),u=n(5),d=(n(311),n(259)),j=n(49);var f=function(){var e=Object(c.useState)(null),t=Object(u.a)(e,2),n=t[0],a=t[1],r=Object(c.useRef)(null),i=Object(c.useRef)(null),o=Object(c.useState)([]),f=Object(u.a)(o,2),v=f[0],b=f[1],h=Object(c.useState)(null),m=Object(u.a)(h,2),O=m[0],x=m[1],p=Object(c.useState)(),g=Object(u.a)(p,2),N=g[0],S=g[1],y=Object(c.useState)(!0),w=Object(u.a)(y,2),I=w[0],k=w[1],M=function(){var e=Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.load();case 2:t=e.sent,k(!1),S(setInterval((function(){U(t)}),500));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(l.a)(s.a.mark((function e(t){var n,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.detect(r.current);case 2:n=e.sent,i.current.width=r.current.videoWidth,i.current.height=r.current.videoHeight,c=i.current.getContext("2d"),_(n,c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(e,t){e.forEach((function(e){var n=Object(u.a)(e.bbox,4),c=n[0],a=n[1],r=n[2],i=n[3],o=e.class;t.beginPath();var s="#ff002b";t.strokeStyle=s,t.font="30px Nunito",t.fillStyle=s,t.fillText(o,c,a-15),t.lineWidth=5,t.rect(c,a,r,i),t.stroke()}))};return Object(c.useEffect)((function(){var e={width:1280,height:720};return x(localStorage.getItem("deviceId")),navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia,navigator.getUserMedia?(navigator.mediaDevices.enumerateDevices().then((function(e){var t=e.filter((function(e){return"videoinput"===e.kind}));console.log(t),b(t)})),console.log(O),O&&(e.deviceId=O),navigator.getUserMedia({audio:!1,video:e},(function(e){var t=r.current;t.srcObject=e,t.onloadedmetadata=function(){t.play(),M()}}),(function(e){a("The following error occurred: "+e.name),k(!1)}))):(a("getUserMedia not supported"),k(!1)),function(){clearInterval(N)}}),[O,r]),Object(j.jsxs)("div",{className:"container py-3",children:[Object(j.jsx)("h3",{className:"text-center text-primary",children:"Tensorflow Object Detection"}),Object(j.jsx)("p",{className:"text-center text-color1",children:"Simple ReactJs app integrated with object detection model name COCO-SSD."}),n&&Object(j.jsx)("p",{className:"text-danger text-center",children:n}),I&&Object(j.jsx)("div",{className:"d-flex justify-content-center",children:Object(j.jsx)("div",{className:"spinner-border text-primary",role:"status",children:Object(j.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}),Object(j.jsxs)("div",{className:I?"none":"",children:[Object(j.jsxs)("div",{className:"video__container",children:[Object(j.jsx)("video",{className:"video__element",ref:r,muted:!0,autoPlay:!0}),Object(j.jsx)("canvas",{className:"canvas__element",ref:i})]}),Object(j.jsxs)("div",{className:"mb-3",children:[Object(j.jsx)("label",{className:"form-label text-color1",children:"Select your device"}),Object(j.jsx)("select",{className:"form-control",onChange:function(e){clearInterval(N);var t=e.target.value;x(t),localStorage.setItem("deviceId",t)},value:O||"",children:v.map((function(e){return Object(j.jsx)("option",{value:e.deviceId,children:e.label},e.deviceId)}))})]})]})]})};i.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(f,{})}),document.getElementById("root"))}},[[312,1,2]]]);
//# sourceMappingURL=main.8457923b.chunk.js.map